# Java Kanban

Канбан-менеджер для управления задачами с возможностью хранения и передачи данных через HTTP.

## Описание проекта

Java Kanban - это приложение для управления задачами, которое позволяет создавать, редактировать и отслеживать задачи разных типов. Проект реализует функциональность канбан-доски с возможностью сохранения данных в файл и обмена данными через HTTP-сервер.

## Основные возможности

- Создание и управление задачами трех типов: обычные задачи, эпики и подзадачи
- Отслеживание статуса выполнения задач (NEW, IN_PROGRESS, DONE)
- Автоматическое определение статуса эпиков на основе статусов подзадач
- Хранение истории просмотра задач
- Сохранение данных в файл CSV
- HTTP-сервер для удаленного управления задачами
- Приоритизация задач по времени начала
- Проверка пересечений задач по времени выполнения

## Архитектура проекта

### Модель данных

- **Task** - базовый класс для всех типов задач
- **Epic** - задача, которая содержит подзадачи
- **Subtask** - подзадача, которая принадлежит эпику
- **Status** - перечисление статусов задач (NEW, IN_PROGRESS, DONE)
- **TypeTask** - перечисление типов задач (TASK, EPIC, SUBTASK)

### Менеджеры

- **TaskManager** - интерфейс для управления задачами
- **InMemoryTaskManager** - базовая реализация менеджера задач в памяти
- **FileBackedTasksManager** - менеджер задач с сохранением в файл
- **HttpTaskManager** - менеджер задач с возможностью обмена данными через HTTP
- **HistoryManager** - интерфейс для управления историей просмотра задач
- **InMemoryHistoryManager** - реализация менеджера истории в памяти
- **Managers** - утилитарный класс для создания экземпляров менеджеров

### Серверная часть

- **HttpTaskServer** - HTTP-сервер для управления задачами через REST API
- **KVServer** - сервер для хранения данных в формате ключ-значение
- **KVTaskClient** - клиент для взаимодействия с KVServer

### Утилиты

- **LocalDateTimeAdapter** - адаптер для сериализации/десериализации LocalDateTime в JSON

## API

HTTP-сервер предоставляет следующие эндпоинты:

- `GET /tasks/task` - получить список всех задач
- `GET /tasks/epic` - получить список всех эпиков
- `GET /tasks/subtask` - получить список всех подзадач
- `GET /tasks/task?id={id}` - получить задачу по ID
- `GET /tasks/epic?id={id}` - получить эпик по ID
- `GET /tasks/subtask?id={id}` - получить подзадачу по ID
- `GET /tasks/subtask/epic?id={id}` - получить список подзадач эпика
- `GET /tasks/history` - получить историю просмотра задач
- `GET /tasks` - получить список приоритизированных задач
- `POST /tasks/task` - создать или обновить задачу
- `POST /tasks/epic` - создать или обновить эпик
- `POST /tasks/subtask` - создать или обновить подзадачу
- `DELETE /tasks/task?id={id}` - удалить задачу по ID
- `DELETE /tasks/epic?id={id}` - удалить эпик по ID
- `DELETE /tasks/subtask?id={id}` - удалить подзадачу по ID
- `DELETE /tasks/all-tasks` - удалить все задачи

## Особенности реализации

- Автоматическое определение статуса эпиков на основе статусов подзадач
- Сохранение и загрузка данных из файла CSV
- Использование HTTP для обмена данными между клиентом и сервером
- Использование GSON для сериализации/десериализации объектов в JSON
- Приоритизация задач по времени начала с использованием TreeSet
- Проверка пересечений задач по времени выполнения

## Технологии

- Java 11
- HTTP-сервер на базе com.sun.net.httpserver
- GSON для работы с JSON
- CSV для хранения данных в файле
